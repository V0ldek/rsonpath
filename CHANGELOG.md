# Changelog

All notable changes to this project will be documented in this file.

## [0.2.1] - 2023-01-25

### Features

- Wildcard child selector parser support. ([#6](https://github.com/V0ldek/rsonpath/issues/6))
  - Both shorthand `.*` and full `[*]` forms are recognised.

- Compile-only CLI flag. ([#76](https://github.com/V0ldek/rsonpath/issues/76))
  - Specifying `--compile` or `-c` will cause rsonpath to compile the query and output its automaton, without running the engine.
This option is mutually exclusive with `--engine` or providing an input path.


### Bug Fixes

- Compile error on `cargo install rsonpath`. ([#86](https://github.com/V0ldek/rsonpath/issues/86))


### Reliability

- Added install check to release CI/CD. ([#86](https://github.com/V0ldek/rsonpath/issues/86))
  - This will catch issues with the simplest `cargo install rsonpath` invocation before release to avoid these issues in the future.


### Dependencies

- Bump cc from 1.0.76 to 1.0.78. ([#82](https://github.com/V0ldek/rsonpath/issues/82))
- Bump nom from 7.1.1 to 7.1.3. ([#85](https://github.com/V0ldek/rsonpath/issues/85))

## [0.2.0] - 2023-01-15

### Features

- Librification ([#41](https://github.com/V0ldek/rsonpath/issues/41))
  - Project split into two crates: binary `rsonpath` and library `rsonpath-lib`

- Separate quote from structural classifiers.
([#17](https://github.com/V0ldek/rsonpath/issues/17))

- Implemented flexible classifiers.

- Implemented depth tail-skipping.

### Bug Fixes

- Escape classifier boundary error.

- Correctly set features for rsonpath-lib.

- Flaky jsonski benches due to their bugs

### Reliability

- Reenable Windows tests.

- Update for benchmarks integration.

- Update workflows and create Release workflow.
([#44](https://github.com/V0ldek/rsonpath/issues/44))
  - Created a `release` workflow that automatically build the crate on supported targets and creates a GitHub Release with appropriate artifacts.

Updated the `rust` workflow to run tests for all configurations supported in `release`, and properly run clippy on both SIMD and no-SIMD versions of the code.

List of supported targets at this point:

| Target triple             | nosimd build | SIMD support        |
|:--------------------------|:-------------|:--------------------|
| aarch64-unknown-linux-gnu | Yes          | No                  |
| i686-unknown-linux-gnu    | Yes          | Yes, avx2+pclmulqdq |
| x86_64-unknown-linux-gnu  | Yes          | Yes, avx2+pclmulqdq |
| x86_64-apple-darwin       | Yes          | No                  |
| i686-pc-windows-gnu       | Yes          | Yes, avx2+pclmulqdq |
| i686-pc-windows-msvc      | Yes          | Yes, avx2+pclmulqdq |
| x86_64-pc-windows-gnu     | Yes          | Yes, avx2+pclmulqdq |
| x86_64-pc-windows-msvc    | Yes          | Yes, avx2+pclmulqdq |

- `query` module is now panic-free.
([#38](https://github.com/V0ldek/rsonpath/issues/38) )
  - All errors are now reported via `QueryError`.

- Panic-free classifiers and engines.
([#39](https://github.com/V0ldek/rsonpath/issues/39) [#40](https://github.com/V0ldek/rsonpath/issues/40) [#31](https://github.com/V0ldek/rsonpath/issues/31))
  - Detectable errors now use proper error types instead of panics.
Added lints to prevent adding more panics or undocumented errors.

### Dependencies

- Bumped Criterion to 0.4.0.

- Removed usage of eyre from library code.

- Bump simple_logger to 4.0.0.

- Update clap to v4.

- Bump a bunch of minor versions.

- Removed `len_trait` dependency (#46).
([#46](https://github.com/V0ldek/rsonpath/issues/46))

## [0.1.2] - 2022-09-17

### Features

- Classify commas to prepare for the new wildcard selectors

### Bug Fixes

- Non-ASCII characters like (ยก) breaking SIMD classification.

### Documentation

- Include usage in README.md.

## [0.1.1] - 2022-07-26

### Bug Fixes

- Supported simd is now autodetected

  - Instead of relying on the target_feature compiler flag
the build script now autodetects whether AVX2
is supported and compiles the correct version.

### Dependencies

- Update to use `criterion_decimal_throughput`.

- Equalise `aligners` versions (`0.0.9` across the project).

- Remove unnecessary dependencies.

  - Removed `memchr` and `static_assertions`.

### Documentation

- Changelog, code of conduct, contributing (#2).
([#2](https://github.com/V0ldek/rsonpath/issues/2))

- Badges for crates.io.

## [0.1.0] - 2022-07-15

### Features

- Engine implementation for child and recursive selectors.

<!-- generated by git-cliff -->
